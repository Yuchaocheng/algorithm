<!--
 * @Descripttion: 
 * @Author: ycc
 * @Date: 2022-02-25 08:43:27
 * @LastEditTime: 2022-04-23 09:08:12
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
</head>

<body>
  <script>
    var findMode = function (root) {
      let count = 0
      let maxCount = 0
      let pre = null
      const res = []
      const traversal = node => {
        if (!node) {
          return
        }
        traversal(node.left)
        if (pre !== null) {
          if (pre.val === node.val) {
            count++
          } else {
            count = 1
          }
          if (count === maxCount) {
            res.push(node.val)
          } else if (count > maxCount) {
            maxCount = count
            res.length = 0
            res.push(node.val)
          }
        } else {
          //第一个数
          count++
          maxcount = count
          res.push(node.val)
        }
        pre = node
        traversal(node.right)
      }
      traversal(root)
      return res
    };
  </script>
</body>

</html>